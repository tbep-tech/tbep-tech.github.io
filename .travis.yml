language: r
sudo: true
cache:
  packages: true
  directories:
  - _cache
addons:
  apt:
    packages:
    - gdal-bin
    - libgdal-dev
    - libgdal1-dev
    - netcdf-bin
    - libproj-dev
    - libnetcdf-dev
    - netcdf-bin
git:
  depth: 3
before_install:
- sudo add-apt-repository -y ppa:ubuntugis/ubuntugis-unstable
- sudo apt-get update
- sudo add-apt-repository -y ppa:opencpu/jq
- sudo apt-get --yes --force-yes update -qq
- sudo apt-get install -y gdal-bin libgdal-dev libgdal1-dev libgeos-dev libjq-dev
  libnetcdf-dev libproj-dev libprotobuf-dev libudunits2-dev libv8-3.14-dev netcdf-bin
  protobuf-compiler
script:
- Rscript -e 'rmarkdown::render("wq.Rmd")'
- git config --global user.name "bbest"
- git config --global user.email "ben@ecoquants.com"
- git add -A
- git commit -a -m "Updating wq rmd build for website via travis-ci.org [ci skip]"
- git push https://${GH_TOKEN}@github.com/${TRAVIS_REPO_SLUG}.git HEAD:${TRAVIS_BRANCH}
notifications:
  email:
    recipients:
    - mbafs2012@gmail.com
    - ben@ecoquants.com
    on_success: change
    on_failure: change
env:
  global:
  - TRAVIS_REPO_SLUG=tbep-tech/tbep-tech.github.io
  - TRAVIS_BRANCH=master
  - secure: BEUluhw3PfUN6RVWuN3xpFjHPMhRuzVMjylqEcKNfs4fy1YB8Nr4v+uQu5O0Yrxjn5DgiynVQpD1c4o2tZmms1UCYxgAF36idEbSVfodBTJekGWB4+A+ry/rHUgjIiUUFWeiw+8ywEfYL0pAMH/S1ZmoL6u4OLzZ73nIH+zTrpxDnltydzl5htsFhB19Bd23zGAmp4e/wdbJku00rEWnc4IrCUabxO01r1zoL/Kct1RfmGMGtYt4GC097ZuIsYc+jZLon1ZEX6LNF+fGtHRpHSxP1lKt9LMSyPWDb4r/qVIvwYXUA1PLq2Uddzi3ei3uJT0jxnmUgRc8X84aqGPKEkfM23P7BJiYhG/itX57XFWrNhAp518wqLwg2LPzy48vPv9ubOtiE5R1KRnpAMz6nfbjguatkmInQ6qdC/8RHvS7eFkyinoPdRlZweoeHpBeQqjEr3nmG3jE63K/nt8KNl1CMf5zbAGSr5VeCiAF/dF5Ewv6ts8wus7eTYg21OQAKgqUhdpAob3ysA7DM2DDGCjf5Evm/Mwc50QEqyf3Hq6ilvPJEYXBnZ0+RG/fL7fvGh4FVSOtUwgTWj2DLPJqHPgXjNmlxd9jtK04dNdlWJ65yoErIBycz4FevmwKbFSP1OM5TQEsrczg2CjQBA5OPI4zecKrTgZLct6CCPSjNbQ=
